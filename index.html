<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Travel Note</title>
    
    <!-- PWA è¨­å®š -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#F0A040">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon-192.png">

    <!-- å¼•å…¥ Excel è™•ç†å¥—ä»¶ (SheetJS) -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>

    <style>
        /* --- æ ¸å¿ƒ UI é¢¨æ ¼å®šç¾© (æ‰‹ç¹ªç­†è¨˜æœ¬é¢¨ - é‚„åŸç‰ˆ) --- */
        :root {
            --primary: #F0A040;   /* ä¸»è‰²: æº«æš–æ©˜ */
            --secondary: #90B44B; /* è¼”è‰²: æŸ”å’Œç¶  */
            --money: #C64756;     /* è²»ç”¨: é‹¼ç­†ç´… */
            --flight-bg: #FFFFFF; 
            --bg: #F9F7E8;        /* èƒŒæ™¯: å¥¶æ²¹ç´™è‰² */
            --card-bg: #FFFFFF;   /* å¡ç‰‡èƒŒæ™¯: ç´”ç™½ */
            --text: #3D3D3D;      /* æ–‡å­—: å¢¨é»‘è‰² */
            --gray: #A9A9A9;      
            --border-color: #D3D3D3; /* é‰›ç­†ç·š */
        }

        body {
            font-family: 'Avenir Next', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0; padding: 0; height: 100vh;
            display: flex; flex-direction: column;
            /* é¿å… iOS PWA ç‹€æ…‹åˆ—é‡ç–Š */
            padding-top: env(safe-area-inset-top); 
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        /* Header */
        header {
            background-color: var(--card-bg);
            padding: 18px 25px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
            position: sticky; top: 0; z-index: 100;
            display: flex; justify-content: space-between; align-items: center;
        }
        .header-title { 
            font-size: 1.2rem; color: var(--primary); font-weight: 700; letter-spacing: 1px; cursor: pointer;
        }
        .header-controls { display: flex; gap: 15px; align-items: center; }
        
        .total-cost-display {
            font-size: 0.95rem; font-weight: 600; color: var(--money);
            border: none; background: transparent; cursor: pointer;
            text-decoration: underline 2px dotted var(--money);
        }
        
        .action-btn { 
            cursor: pointer; font-size: 0.9rem; color: var(--gray); 
            display: flex; align-items: center; gap: 4px; font-weight: 500; transition: 0.2s;
        }
        .action-btn:hover { color: var(--secondary); }

        /* Rate Bar */
        .rate-bar {
            background: #FFFBEB; color: var(--text); padding: 10px; 
            font-size: 0.85rem; text-align: center; cursor: pointer; 
            border-bottom: 1px dashed var(--border-color); line-height: 1.4;
        }

        /* Day Tabs */
        .day-tabs {
            display: flex; overflow-x: auto; padding: 15px 25px; gap: 10px;
            scrollbar-width: none; background: var(--bg);
        }
        .day-tab {
            padding: 8px 16px; background: #FFFFFF; border: 2px solid var(--border-color);
            border-radius: 20px; font-size: 0.85rem; font-weight: 600; color: var(--text);
            cursor: pointer; white-space: nowrap; box-shadow: 1px 1px 0 rgba(0,0,0,0.05); transition: 0.2s;
        }
        .day-tab.active {
            background-color: var(--primary); color: #fff; border-color: var(--primary);
            box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }

        /* Summary Box */
        .summary-box {
            margin: 0 25px 15px 25px; background: var(--card-bg); padding: 20px; 
            border-radius: 12px; display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); border: 1px solid var(--border-color); 
        }
        .summary-amount { font-size: 1.8rem; font-weight: 800; color: var(--money); }
        .summary-title { font-size: 0.85rem; color: var(--gray); cursor: pointer; text-decoration: underline dotted; }

        /* Timeline & Cards */
        .timeline-container {
            flex: 1; padding: 10px 25px 80px 25px; overflow-y: auto;
            max-width: 600px; margin: 0 auto; width: 100%; box-sizing: border-box;
        }
        .timeline-item {
            display: flex; margin-bottom: 30px; position: relative; animation: slideUp 0.3s ease-out;
        }
        .timeline-item::before {
            content: ''; position: absolute; left: 35px; top: 30px; bottom: -30px; width: 1px; 
            background-image: linear-gradient(to top, var(--border-color) 50%, rgba(255, 255, 255, 0) 50%);
            background-size: 1px 8px; z-index: 0;
        }
        .timeline-item:last-child::before { display: none; }

        .time-col {
            width: 70px; font-size: 0.9rem; color: var(--text); padding-top: 5px; 
            text-align: left; padding-right: 15px; font-weight: 700; flex-shrink: 0; line-height: 1.3;
        }
        .time-col span { display: block; font-weight: normal; font-size: 0.75rem; color: var(--gray); margin-top: 2px; }

        .card {
            background: var(--card-bg); border-radius: 12px; padding: 18px; flex: 1;
            box-shadow: 4px 4px 0 var(--border-color), 0 2px 8px rgba(0,0,0,0.05); 
            position: relative; z-index: 1; border: 1px solid var(--border-color); 
            transition: transform 0.1s;
        }
        
        .card-header { display: flex; justify-content: space-between; align-items: flex-start; }
        .card-title { font-weight: 700; font-size: 1.1rem; }
        
        .card-type-label {
            font-size: 0.75rem; font-weight: 700; padding: 4px 8px; border-radius: 6px;
            margin-bottom: 5px; display: inline-block;
        }
        .tag-spot { background: #E6F7FF; color: #1890FF; border: 1px solid #BAE7FF; } 
        .tag-food { background: #FFF7E6; color: #FAAD14; border: 1px solid #FFE7BA; } 
        .tag-transport { background: #F9E6FF; color: #9254DE; border: 1px solid #D3ADF7; } 
        .tag-shopping { background: #F6FFED; color: var(--secondary); border: 1px solid #D9F7BE; }
        .tag-flight { background: #EAEAEA; color: var(--text); border: 1px solid #CACACA; }

        .card-actions { display: flex; gap: 10px; }
        .btn-icon { cursor: pointer; color: var(--gray); font-size: 1.1rem; border: none; background: none; padding: 0; }
        .btn-icon:hover { color: var(--money); }

        .card-loc {
            font-size: 0.85rem; color: var(--primary); display: inline-flex; align-items: center; 
            gap: 4px; background: #F0F0F0; padding: 5px 10px; border-radius: 8px; 
            text-decoration: none; max-width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
            margin-top: 8px;
        }

        .flight-grid {
            display: grid; grid-template-columns: 20px 1fr; gap: 8px 10px;
            font-size: 0.9rem; align-items: center; margin-top: 8px;
        }
        .flight-icon { text-align: center; color: var(--gray); font-size: 0.9rem; }
        .flight-info-text { color: var(--text); }
        .flight-time-sub { font-size: 0.8rem; color: var(--gray); margin-left: 5px; }

        .transport-grid {
            display: grid; grid-template-columns: 20px 1fr; gap: 10px;
            margin-top: 8px; align-items: flex-start;
        }
        .transport-line {
            position: relative; display: flex; flex-direction: column; align-items: center; height: 100%;
        }
        .transport-dot { width: 8px; height: 8px; border-radius: 50%; border: 2px solid var(--border-color); background: #fff; z-index: 1;}
        .transport-bar { flex: 1; width: 2px; background: var(--border-color); margin: 2px 0; }
        
        .card-cost {
            margin-top: 10px; padding-top: 10px; border-top: 1px dashed var(--border-color);
            font-size: 1rem; color: var(--money); font-weight: 700;
            display: flex; justify-content: space-between; align-items: center;
        }

        /* Modal & Inputs */
        .fab {
            position: fixed; bottom: 30px; right: 30px; width: 55px; height: 55px; 
            background: var(--primary); color: var(--card-bg); font-size: 30px; border: none; 
            cursor: pointer; z-index: 101; border-radius: 50%; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: flex; justify-content: center; align-items: center;
        }
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.4); display: none; z-index: 200;
            justify-content: center; align-items: flex-end;
        }
        .modal-overlay.open { display: flex; }
        .modal {
            background: var(--bg); width: 100%; max-width: 500px;
            border-radius: 15px 15px 0 0; padding: 25px; animation: slideUpModal 0.3s; 
            display: flex; flex-direction: column; gap: 15px; max-height: 90vh; overflow-y: auto;
            border-top: 4px solid var(--secondary);
        }
        .form-label { display: block; margin-bottom: 5px; font-size: 0.9rem; color: var(--text); font-weight: 600; }
        .form-input, .zone-select, .currency-select {
            width: 100%; padding: 12px; border: 2px solid var(--border-color);
            border-radius: 8px; font-size: 1rem; background: var(--card-bg); color: var(--text); box-sizing: border-box;
            transition: 0.3s;
        }
        .form-row { display: flex; gap: 10px; }
        
        .input-panel {
            background: var(--flight-bg); padding: 15px; border-radius: 10px; 
            border: 1px dashed var(--border-color); display: none; flex-direction: column; gap: 15px;
        }
        .input-panel.show { display: flex; }
        
        .btn-group { display: flex; gap: 10px; margin-top: 10px; }
        .btn { flex: 1; padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1rem; text-align: center;}
        .btn-primary { background: var(--primary); color: var(--card-bg); }
        .btn-cancel { background: var(--border-color); color: var(--text); }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); border-radius: 8px; font-weight:bold; cursor:pointer; padding: 8px;}

        /* System Messages */
        #sys-toast {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            background: #333; color: #fff; padding: 10px 20px; border-radius: 8px;
            font-size: 0.9rem; z-index: 10000; opacity: 0; pointer-events: none; transition: 0.3s;
        }
        #sys-toast.show { opacity: 1; transform: translateX(-50%) translateY(10px); }
        
        #sys-confirm-overlay {
            position: fixed; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.5);
            display: none; justify-content: center; align-items: center; z-index: 9999;
        }
        .sys-box { background: #fff; padding: 20px; border-radius: 12px; text-align: center; width: 280px; }
        .sys-btns { display: flex; gap: 10px; justify-content: center; margin-top: 20px; }
        .sys-btn { padding: 8px 20px; border-radius: 6px; border:none; cursor:pointer; font-weight:bold; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideUpModal { from { transform: translateY(100%); } to { transform: translateY(0); } }
    </style>
</head>
<body>

<header>
    <div class="header-title" id="headerTitle" onclick="openSettingsModal()">TRAVEL NOTE âœ</div>
    <div class="header-controls">
        <button class="total-cost-display" id="overallTotalCost" onclick="toggleTotalDisplay()">ç¸½è¨ˆ: TWD 0</button>
        <div class="action-btn" onclick="openSettingsModal()">ğŸ—“ï¸ è¨­å®š</div>
        <div class="action-btn" onclick="openPackingModal()">ğŸ’ æ¸…å–®</div>
        <div class="action-btn" onclick="exportToExcel()">ğŸ“¥ åŒ¯å‡º</div>
        <div class="action-btn" onclick="clearData()">ğŸ—‘ï¸ é‡ç½®</div>
    </div>
</header>

<div class="rate-bar" id="rateBar" onclick="openRateModal()">
    <div id="rateText">è¼‰å…¥åŒ¯ç‡ä¸­...</div>
</div>

<div class="day-tabs" id="dayTabs"></div>

<div class="summary-box">
    <div>
        <div style="font-size:0.8rem; color:var(--gray); margin-bottom:4px;">
            Day <span id="currentDayNum">1</span> <span id="dateDisplayInSummary"></span>
        </div>
        <div class="summary-amount" id="dayTotal">TWD 0</div>
    </div>
    <div style="text-align: right;">
        <div class="summary-title" id="dayTotalConverted" onclick="toggleTotalDisplay()">ç¸½èŠ±è²»</div>
    </div>
</div>

<div class="timeline-container" id="timelineContainer"></div>

<button class="fab" onclick="openModal()">+</button>

<div id="sys-toast">æç¤ºè¨Šæ¯</div>
<div id="sys-confirm-overlay">
    <div class="sys-box">
        <div id="sys-confirm-msg">ç¢ºèªåŸ·è¡Œï¼Ÿ</div>
        <div class="sys-btns">
            <button class="sys-btn" style="background:#eee" onclick="closeConfirm(false)">å–æ¶ˆ</button>
            <button class="sys-btn" style="background:var(--primary); color:#fff" onclick="closeConfirm(true)">ç¢ºå®š</button>
        </div>
    </div>
</div>

<div class="modal-overlay" id="itemModalOverlay">
    <div class="modal">
        <h2 style="margin:0; color:var(--primary);" id="modalTitle">æ–°å¢è¡Œç¨‹</h2>
        <div class="form-group">
            <label class="form-label">é¡å‹</label>
            <select class="form-input" id="inputType" onchange="toggleFields()">
                <option value="spot">ğŸ“· æ™¯é»</option>
                <option value="food">ğŸ´ ç¾é£Ÿ</option>
                <option value="transport">ğŸš† äº¤é€š</option>
                <option value="shopping">ğŸ›ï¸ è³¼ç‰©</option>
                <option value="flight">âœˆï¸ èˆªç­</option>
            </select>
        </div>
        
        <div id="normalFields">
            <div class="form-row">
                <div style="flex:1"><label class="form-label">æ™‚é–“</label><input type="time" class="form-input" id="inputTime"></div>
                <div style="flex:2"><label class="form-label">æ´»å‹•åç¨±</label><input type="text" class="form-input" id="inputTitle" placeholder="ä¾‹å¦‚: æ™´ç©ºå¡”"></div>
            </div>
            <div style="margin-top:15px;">
                <label class="form-label">åœ°é» / Map é€£çµ</label>
                <input type="text" class="form-input" id="inputLoc" placeholder="è²¼ä¸Š Google Maps é€£çµ">
            </div>
        </div>

        <div id="transportFields" class="input-panel">
            <label class="form-label">äº¤é€šæ–¹å¼</label>
            <input type="text" class="form-input" id="transportMode" placeholder="ä¾‹å¦‚: é«˜éµ, JR">
            <div class="form-row">
                <div style="flex:1"><label class="form-label">å‡ºç™¼æ™‚é–“</label><input type="time" class="form-input" id="transportDepTime"></div>
                <div style="flex:1"><label class="form-label">æŠµé”æ™‚é–“</label><input type="time" class="form-input" id="transportArrTime"></div>
            </div>
            <div style="margin-top:10px;">
                <input type="text" class="form-input" id="transportDepLoc" placeholder="å‡ºç™¼åœ° (ä¾‹å¦‚: æ±äº¬è»Šç«™)" style="margin-bottom:10px;">
                <input type="text" class="form-input" id="transportArrLoc" placeholder="ç›®çš„åœ° (ä¾‹å¦‚: å¤§é˜ªè»Šç«™)">
            </div>
        </div>

        <div id="flightFields" class="input-panel">
            <label class="form-label">èˆªç­ä»£è™Ÿ</label>
            <input type="text" class="form-input" id="flightCode" placeholder="ä¾‹å¦‚: JX800" style="text-transform:uppercase;">
            
            <div style="margin-top: 10px;">
                <label class="form-label" style="color:var(--primary);">ğŸ›« å‡ºç™¼ (ä»£è™Ÿ/æ™‚å€/æ™‚é–“)</label>
                <div class="form-row">
                    <input type="text" class="form-input" id="depCode" placeholder="TPE" style="flex:1; text-transform:uppercase" oninput="autoUpdateTimezone('depCode', 'depZone')">
                    <select id="depZone" class="zone-select" style="flex:1" onchange="calcDuration()"></select>
                </div>
                <input type="time" class="form-input" id="depTime" style="margin-top:5px;" onchange="calcDuration()">
            </div>
            
            <div style="margin-top: 10px;">
                <label class="form-label" style="color:var(--secondary);">ğŸ›¬ æŠµé” (ä»£è™Ÿ/æ™‚å€/æ™‚é–“)</label>
                <div class="form-row">
                    <input type="text" class="form-input" id="arrCode" placeholder="NRT" style="flex:1; text-transform:uppercase" oninput="autoUpdateTimezone('arrCode', 'arrZone')">
                    <select id="arrZone" class="zone-select" style="flex:1" onchange="calcDuration()"></select>
                </div>
                <input type="time" class="form-input" id="arrTime" style="margin-top:5px;" onchange="calcDuration()">
            </div>
            <div id="durationDisplay" style="text-align:center; font-size:0.9rem; color:var(--primary); font-weight:bold; margin-top:10px;"></div>
        </div>

        <div style="margin-top:15px;">
            <label class="form-label">é‡‘é¡</label>
            <div class="form-row">
                <select id="inputCurrency" class="currency-select" style="flex:1"><option value="TWD">TWD</option><option value="JPY">JPY</option><option value="USD">USD</option><option value="EUR">EUR</option><option value="KRW">KRW</option></select>
                <input type="number" class="form-input" id="inputCost" placeholder="0" style="flex:2;">
            </div>
        </div>
        <div style="margin-top:15px;">
            <label class="form-label">å‚™è¨»</label>
            <textarea class="form-input" id="inputNotes" rows="2"></textarea>
        </div>
        
        <div class="btn-group">
            <button class="btn btn-cancel" onclick="closeModal('itemModalOverlay')">å–æ¶ˆ</button>
            <button class="btn btn-primary" onclick="saveItem()">å„²å­˜</button>
        </div>
    </div>
</div>

<div class="modal-overlay" id="settingsModalOverlay"><div class="modal"><h2>æ—…ç¨‹è¨­å®š</h2><input type="text" class="form-input" id="inputTripName" placeholder="æ—…ç¨‹åç¨±"><input type="date" class="form-input" id="inputStartDate" style="margin-top:10px;"><div class="btn-group"><button class="btn btn-cancel" onclick="closeModal('settingsModalOverlay')">å–æ¶ˆ</button><button class="btn btn-primary" onclick="saveSettings()">å„²å­˜</button></div></div></div>

<div class="modal-overlay" id="rateModalOverlay">
    <div class="modal">
        <h2>åŒ¯ç‡è¨­å®š (æ‰‹å‹• / è‡ªå‹•)</h2>
        <div id="currentRatesList" style="background:#FAFAFA; padding:10px; border-radius:8px; border:1px dashed #CCC; font-size:0.9rem;"></div>
        <p style="font-size:0.85rem;color:#666;margin:10px 0;line-height:1.5;">
            ç³»çµ±æ¯ 10 åˆ†é˜è‡ªå‹•å¾ Global API æ›´æ–° (å«1.5%ç·©è¡)ã€‚<br>è‹¥ç„¡ç¶²è·¯ï¼Œè«‹åœ¨ä¸‹æ–¹<b>æ‰‹å‹•è¼¸å…¥</b>ã€‚
        </p>
        <div class="form-row" style="margin-top:10px;">
            <input type="text" id="currencyCode" class="form-input" placeholder="ä»£è™Ÿ (å¦‚ JPY)" style="text-transform:uppercase; flex:1;">
            <input type="number" id="exchangeRate" class="form-input" placeholder="åŒ¯ç‡ (1å¤–å¹£=?å°å¹£)" style="flex:2;">
        </div>
        <button class="btn-outline" style="width:100%; margin-top:10px;" onclick="fetchRateManual()">ğŸŒ å˜—è©¦ç·šä¸ŠæŠ“å– (è¼”åŠ©)</button>
        <div class="btn-group" style="margin-top:15px;">
            <button class="btn btn-cancel" onclick="closeModal('rateModalOverlay')">é—œé–‰</button>
            <button class="btn btn-primary" onclick="saveRate()">å„²å­˜è¨­å®š</button>
        </div>
    </div>
</div>

<div class="modal-overlay" id="packingModalOverlay"><div class="modal"><h2>ç‰©å“æ¸…å–®</h2><div class="form-row"><input type="text" id="newPackingItemName" class="form-input"><button class="btn btn-primary" onclick="addItemToPackingList()">æ–°å¢</button></div><div id="packingListContainer" style="margin-top:15px;"></div><button class="btn btn-cancel" onclick="closeModal('packingModalOverlay')">é—œé–‰</button></div></div>

<script>
    // --- PWA Service Worker Registration ---
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('./sw.js')
                .then(reg => console.log('SW Registered!', reg))
                .catch(err => console.log('SW Failed', err));
        });
    }

    // System Utils
    function showToast(msg) { const t=document.getElementById('sys-toast'); t.innerText=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),3000); }
    let confirmCb = null;
    function openConfirm(msg, cb) { document.getElementById('sys-confirm-msg').innerText=msg; document.getElementById('sys-confirm-overlay').style.display='flex'; confirmCb=cb; }
    function closeConfirm(res) { document.getElementById('sys-confirm-overlay').style.display='none'; if(res&&confirmCb) confirmCb(); confirmCb=null; }

    // Data
    let days = JSON.parse(localStorage.getItem('tripData_Edit')) || { 1: [] };
    let settings = JSON.parse(localStorage.getItem('tripSettings_Edit')) || { 
        rates: { 'JPY': 0.21, 'USD': 30.5, 'EUR': 32.5, 'TWD': 1.0 }, 
        startDate: '',
        tripName: 'TRAVEL NOTE',
        packingList: [] 
    };
    let currentDay = 1;
    let editingItemId = null; 
    let isShowingOverallTotal = false;
    let lastUpdateStr = localStorage.getItem('lastRateUpdate_Edit') || 'å°šæœªæ›´æ–°'; 

    // --- å®Œæ•´æ©Ÿå ´æ™‚å€è¡¨ (Standard Time) ---
    // å¦‚é‡æ—¥å…‰ç¯€ç´„æ™‚é–“(DST)ï¼Œè«‹ä½¿ç”¨è€…æ‰‹å‹• +/- 1
    const airportTimezones = {
        // Asia (UTC+7, +8, +9)
        "TPE": 8, "TSA": 8, "KHH": 8, "RMQ": 8,
        "NRT": 9, "HND": 9, "KIX": 9, "FUK": 9, "OKA": 9, "CTS": 9, "NGO": 9, "SDJ": 9,
        "ICN": 9, "GMP": 9, "PUS": 9, "CJU": 9,
        "HKG": 8, "MFM": 8, "PEK": 8, "PVG": 8, "SHA": 8, "CAN": 8,
        "SIN": 8, "KUL": 8, "MNL": 8, "CEB": 8, "DPS": 8,
        "BKK": 7, "DMK": 7, "SGN": 7, "HAN": 7, "HKT": 7, "PQC": 7,
        
        // Europe (UTC+0, +1, +2 - Standard)
        "LHR": 0, "LGW": 0, "MAN": 0, "EDI": 0, "LIS": 0,
        "CDG": 1, "ORY": 1, "AMS": 1, "FRA": 1, "MUC": 1, "BER": 1, 
        "FCO": 1, "MXP": 1, "VCE": 1, "MAD": 1, "BCN": 1, "ZRH": 1, 
        "GVA": 1, "VIE": 1, "PRG": 1, "BUD": 1, "CPH": 1, "ARN": 1, "OSL": 1,
        "ATH": 2, "HEL": 2, "IST": 3, "DXB": 4, "DOH": 3,
        
        // Americas (UTC-5 to -10 - Standard)
        "JFK": -5, "EWR": -5, "LGA": -5, "BOS": -5, "IAD": -5, "DCA": -5, "YYZ": -5, "YUL": -5,
        "ORD": -6, "DFW": -6, "IAH